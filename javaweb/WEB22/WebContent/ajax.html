<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script type="text/javascript">
	function fn1(){
		//1.创建ajax引擎对象-----所有操作都是通过引擎对象
		var xmlHttp = new XMLHttpRequest();
		//2.绑定监听-----监听服务器是否已经返回相应的数据
		xmlHttp.onreadystatechange = function(){
			if(xmlHttp.readyState==4&&xmlHttp.status==200){
				//5.接受相应数据
				var res = xmlHttp.responseText;
				document.getElementById("span1").innerHTML=res;
			}
			
		}
		//3.绑定地址
		xmlHttp.open("GET","/WEB22/ajaxServlet?name=zhangsan",true);
		//4.发送请求
		xmlHttp.send();
		
	}
	function fn2(){
		//1.创建ajax引擎对象-----所有操作都是通过引擎对象
		var xmlHttp = new XMLHttpRequest();
		//2.绑定监听-----监听服务器是否已经返回相应的数据
		xmlHttp.onreadystatechange = function(){
//			alert(xmlHttp.readyState);
//			alert(xmlHttp.status);
			if(xmlHttp.readyState==4&&xmlHttp.status==200){
				//5.接受相应数据
				var res = xmlHttp.responseText;
				document.getElementById("span2").innerHTML = res;
				//document.getElementById("span2").innerHTML = res;
			}
			
		}
		//3.绑定地址
		xmlHttp.open("POST","/WEB22/ajaxServlet",false);
		//xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		  xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		//4.发送请求
		xmlHttp.send("name=lisi");
	}
	
//	function fn2(){
//		//1、创建ajax引擎对象 ---- 所有的操作都是通过引擎对象
//		var xmlHttp = new XMLHttpRequest();
//		//2、绑定监听 ---- 监听服务器是否已经返回相应数据
//		xmlHttp.onreadystatechange = function(){
//			if(xmlHttp.readyState==4&&xmlHttp.status==200){
//				//5、接受相应数据
//				var res = xmlHttp.responseText;
//				document.getElementById("span2").innerHTML = res;
//			}
//		}
//		//3、绑定地址
//		xmlHttp.open("POST","/WEB22/ajaxServlet",false);
//		//4、发送请求
//		xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
//		xmlHttp.send("name=lisi");
//		
//	}
	

</script>
</head>
<body>

	<input type="button" onclick="fn1()" value="异步访问服务器端"><span id="span1"></span><br />
	<input type="button" onclick="fn2()" value="同步访问服务器端"><span id="span2"></span><br />
	<input type="button" onclick="alert()" value="测试">
</body>
</html>